# Журнал изменений

## [1.0.0] - 2025-01-XX

### Добавлено
- Инициализация Laravel проекта
- Настройка composer.json с необходимыми зависимостями
- Создание .gitignore для защиты личных данных
- Базовая структура проекта
- README с инструкциями по установке
- Миграции для новых таблиц:
  - `payments` - детализация оплат (участие, дипломы, медали)
  - `diplomas` - предзаказанные дипломы
  - `medals` - предзаказанные медали
  - `backup_settings` - настройки резервного копирования
  - Добавление роли пользователей в таблицу `users`
- Модели для новых таблиц:
  - `Payment` - модель для оплат
  - `Diploma` - модель для дипломов
  - `Medal` - модель для медалей
  - `BackupSetting` - модель для настроек резервного копирования
- Сервисы для бизнес-логики:
  - `ParticipantListService` - обработка списков участников
  - `PricingService` - расчет стоимости
  - `AutocompleteService` - автозаполнение данных
- Контроллер `RegistrationController` для регистрации коллективов

### Изменено
- Начальная настройка проекта для разработки системы регистрации ФТР
- Расширена структура БД для поддержки системы оплат

### Технические детали
- Использован Laravel 10 с PHP 8.1
- Добавлены пакеты для работы с Excel (maatwebsite/excel)
- Добавлен пакет для генерации PDF (barryvdh/laravel-dompdf)
- Настроен .gitignore для исключения SQL файлов с личными данными
- Создан env.example с настройками резервного копирования
- Реализована система очистки списков участников от лишних символов
- Добавлен расчет стоимости в реальном времени
- Создана система автозаполнения для коллективов, руководителей и тренеров

### Следующие шаги
- Тестирование системы
- Деплой на продакшн сервер

## [1.2.0] - 2025-01-XX

### Добавлено
- Полнофункциональный интерфейс регистрации:
  - Форма регистрации с автозаполнением
  - Обработка списков участников с очисткой от лишних символов
  - Расчет стоимости в реальном времени
  - Валидация соответствия количества участников номинации
- Страница просмотра регистрации с полной информацией
- Адаптивный дизайн для мобильных устройств:
  - Bootstrap 5 с responsive компонентами
  - Оптимизированная навигация для мобильных
  - Адаптивные таблицы и формы
- Система маршрутизации с проверкой ролей
- Базовый layout с боковой панелью навигации
- JavaScript функциональность:
  - Автозаполнение полей
  - Динамический расчет стоимости
  - AJAX запросы для API

### Технические детали
- Создан базовый layout app.blade.php с Bootstrap 5
- Реализована форма регистрации с полной валидацией
- Добавлена страница просмотра регистрации show.blade.php
- Настроены маршруты с middleware для проверки ролей
- Интегрирован Alpine.js для интерактивности
- Добавлены стили для автозаполнения и адаптивности

## [1.1.0] - 2025-01-XX

### Добавлено
- Система авторизации с ролями (админ, регистратор, статист)
- Middleware для проверки ролей пользователей
- Админ-панель с полным функционалом:
  - Управление мероприятиями и ценами
  - Управление пользователями
  - Настройки резервного копирования
  - Просмотр всех регистраций
- Система отслеживания оплат:
  - Отдельные платежи за участие, дипломы, медали
  - Статусы оплат (ожидает, оплачено, отменено)
  - История платежей
- Панель статистики с отчетами:
  - Общая статистика по мероприятиям
  - Финансовая отчетность
  - Отчеты по номинациям и дисциплинам
  - Экспорт в Excel
- Система автоматического резервного копирования:
  - Настраиваемые интервалы
  - Автоматическое удаление старых копий
  - Команда Artisan для создания копий
- Скрипты для деплоя на Ubuntu:
  - Автоматическая установка всех зависимостей
  - Настройка Nginx и PHP-FPM
  - Скрипты обновления и резервного копирования
  - Настройка cron для автоматических задач

### Технические детали
- Создан middleware CheckRole для проверки прав доступа
- Реализованы контроллеры: AdminController, StatisticsController
- Добавлен класс EventStatisticsExport для экспорта в Excel
- Создана команда CreateBackupCommand для резервного копирования
- Настроены маршруты с проверкой ролей
- Добавлена валидация всех форм и API endpoints
